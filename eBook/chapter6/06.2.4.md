# 多返回值函数

As you already know from functions such as strconv.Atoi(), Go functions can return
multiple distinct values, which saves you from having to create a dedicated structure for
returning and receiving multiple values from a function. You can declare a function that
returns four values (two int values, one float64 value, and one string) as follows:

如果你已经知道了`strconv.Atoi()`函数，此函数可以返回多个不同的值，这使您不必为它创建专用的结构
保存函数返回的多个值。你可以定义一个返回4个值的函数，如下

```go
func aFunction() (int, int, float64, string) {
}
```

It is now time to illustrate anonymous functions and functions that return multiple values
in more detail using the Go code of functions.go as an example. The relevant code will
be presented in five parts.

接下来解释匿名函数和多个返回值的函数，更详细内容使用functions.go文件来说明，用五部分代码来说明。

The first code portion of functions.go is as follows:

第一部分如下：

```go
package main
import (
    "fmt"
    "os"
    "strconv"
    )
```

The second code segment from functions.go is shown in the following Go code:

第二部分代码如下：

```go
func doubleSquare(x int) (int, int) {
    return x * 2, x * x
}
```

Here you can see the definition and implementation of a function named
doubleSquare(), which requires a single int parameter and returns two int values.
The third part of the functions.go program is as follows:

这里有一个`doubleSquare()`的函数，它传入一个int类型的参数，返回两个int类型的值，第三部分代码如下：

```go
func main() {
    arguments := os.Args
    if len(arguments) != 2 {
    fmt.Println("The program needs 1 argument!")
        return
    }
    y, err := strconv.Atoi(arguments[1])
    if err != nil {
        fmt.Println(err)
    return
 }
 ```

The preceding code deals with the command-line arguments of the program.
The fourth portion of the functions.go program contains the following Go code:

之前的程序是用命令行中附加的参数来处理的。第四部分包含以下内容：

```go
 square := func(s int) int {
 return s * s
 }
 fmt.Println("The square of", y, "is", square(y))
 double := func(s int) int {
 return s + s
 }
 fmt.Println("The double of", y, "is", double(y))
 ```

Each of the square and double variables holds an anonymous function. The bad part is that you are allowed to change the value of square, double, or any other variable that holds an anonymous function afterward, which means that the meaning of those variables can change and calculate something else instead.

每个square和double指向一个匿名函数的地址。不够好的部分是你可以改变square和double的值，或者其他变量在匿名函数定义之后也可以指向该匿名函数的地址。这意味着这些变量能够改变和计算其他内容。

> It is not considered good programming practice to alter the code of
variables that hold anonymous functions because this might be the root
cause of nasty bugs.


> 改变保存匿名函数的变量代码不是好的编程实践，因为这可能是产生bug的根本原因。

The last part of functions.go is as follows:

最后一部分代码如下：

```go
 fmt.Println(doubleSquare(y))
 d, s := doubleSquare(y)
 fmt.Println(d, s)
```

So, you can either print the return values of a function, such as doubleSquare(), or assign them to distinct variables.

所以，你能同时打印函数的返回值，或者将它们分配给其他变量。

Executing functions.go will generate the following kind of output:

执行functions.go后：

```shell
$ go run functions.go 1 21
The program needs 1 argument!
$ go run functions.go 10.2
strconv.Atoi: parsing "10.2": invalid syntax
$ go run functions.go 10
The square of 10 is 100
The double of 10 is 20
20 100
20 100
```